<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Browse Skills - Kaushalya Swap</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h1>Browse Skills</h1>

        <!-- Search Bar -->
        <input 
            type="text" 
            id="searchInput" 
            placeholder="Search skill (e.g. Java, Cooking, Photoshop)" 
            onkeyup="searchUsers()"
            style="padding:10px; width:300px;"
        >

        <div id="results" class="grid" style="margin-top:20px;"></div>
    </div>

    <script>
        const users = JSON.parse(localStorage.getItem("users")) || [];
        const resultsDiv = document.getElementById("results");

        function searchUsers() {
            const searchValue = document
                .getElementById("searchInput")
                .value
                .toLowerCase()
                .trim();

            resultsDiv.innerHTML = "";

            if (searchValue === "") {
                resultsDiv.innerHTML = "<p>Start typing to search skills...</p>";
                return;
            }

            const matchedUsers = users.filter(user =>
                user.skill.toLowerCase().includes(searchValue) ||
                user.skillWant.toLowerCase().includes(searchValue)
            );

            if (matchedUsers.length === 0) {
                resultsDiv.innerHTML = "<p>No matching users found.</p>";
            } else {
                matchedUsers.forEach(user => {
                    const card = document.createElement("div");
                    card.classList.add("card");
                    card.innerHTML = `
                        <h3>${user.username}</h3>
                        <p><strong>Skill Have:</strong> ${user.skill}</p>
                        <p><strong>Skill Want:</strong> ${user.skillWant}</p>
                    `;
                    resultsDiv.appendChild(card);
                });
            }
        }
    </script>

</body>
</html>
