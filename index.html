<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SkillSwap — Welcome</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <div class="brand" aria-label="SkillSwap home">
          <img src="logo.png" alt="Kaushalya Swap logo" />
          <span>Kaushalya Swap</span>
        </div>
        <div class="nav-links" role="navigation" aria-label="Primary">
          <a href="#how">How it works</a>
          <a href="skills.html">Browse skills</a>
          <a href="about.html">About</a>
        </div>
        <div class="nav-actions">
          <button class="btn" onclick="openModal('login')">Login</button>
          <button class="btn primary" onclick="openModal('signup')">Signup</button>
          <button class="menu-toggle" id="menuBtn" aria-expanded="false" aria-controls="menu">Menu ▾</button>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero container">
      <div class="hero-logo">
        <img src="logo.png" alt="Kaushalya Swap logo" />
      </div>
      <h1>Exchange skills. Learn faster.</h1>
      <p class="lead">Welcome to Kaushalya Swap — a simple place to offer what you know and learn what you don’t. Post a skill, find a partner, and swap.</p>
      <div class="cta">
        <a class="btn" href="skills.html">Browse Skills</a>
      </div>
    </section>

    <section class="container">
      <h2 class="section-title">Why Kaushalya Swap?</h2>
      <div class="grid">
        <div class="card"><h3>Post a Skill</h3><p>Offer tutoring, design help, coding, music, languages — anything you’re good at.</p></div>
        <div class="card"><h3>Request a Swap</h3><p>Find someone who wants to trade; agree on time and scope.</p></div>
        <div class="card"><h3>Grow Together</h3><p>Practice regularly and build your reputation over time.</p></div>
      </div>
    </section>

    <section id="how" class="container">
      <h2 class="section-title">How it works</h2>
      <div class="card">
        <div class="steps">
          <div class="step"><p><strong>Create an offer</strong> describing your skill and what you’d like in return.</p></div>
          <div class="step"><p><strong>Match up</strong> by browsing skills and sending a swap request.</p></div>
          <div class="step"><p><strong>Swap and review</strong> — meet, learn, and leave feedback.</p></div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>© <span id="year"></span> Kaushalya Swap • Made for learning</p>
    </div>
  </footer>

  <div id="loginModal" class="modal">
    <div class="modal-content">
      <h3>Login</h3>
      <input type="email" id="loginEmail" placeholder="Email">
      <input type="password" id="loginPass" placeholder="Password">
      <button onclick="login()">Login</button>
      <p><a href="#" onclick="closeModal('login')">Close</a></p>
    </div>
  </div>

  <div id="signupModal" class="modal">
    <div class="modal-content">
      <h3>Signup</h3>
      <input type="email" id="signupEmail" placeholder="Email">
      <input type="password" id="signupPass" placeholder="Password">
      <button onclick="signup()">Signup</button>
      <p><a href="#" onclick="closeModal('signup')">Close</a></p>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAcAQoQKNId7ByuQDkfV7gVFDo1OrJT7oE",
      authDomain: "kaushalya-7ad51.firebaseapp.com",
      projectId: "kaushalya-7ad51",
      storageBucket: "kaushalya-7ad51.firebasestorage.app",
      messagingSenderId: "593158099408",
      appId: "1:593158099408:web:6498f013ebdc03bea8a9d5",
      measurementId: "G-DJZB2VER01"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    function openModal(type) {
      document.getElementById(type + "Modal").style.display = "flex";
    }

    function closeModal(type) {
      document.getElementById(type + "Modal").style.display = "none";
    }

    async function signup() {
      const email = document.getElementById("signupEmail").value;
      const pass = document.getElementById("signupPass").value;
      try {
        await auth.createUserWithEmailAndPassword(email, pass);
        alert("✅ Signed up successfully!");
        window.location.href = "browse.html";
      } catch (err) {
        alert("❌ " + err.message);
      }
    }

    async function login() {
      const email = document.getElementById("loginEmail").value;
      const pass = document.getElementById("loginPass").value;
      try {
        await auth.signInWithEmailAndPassword(email, pass);
        alert("✅ Logged in successfully!");
        window.location.href = "browse.html";
      } catch (err) {
        alert("❌ " + err.message);
      }
    }

    // Mobile nav + footer year
    const menuBtn = document.getElementById('menuBtn');
    if (menuBtn) {
      menuBtn.addEventListener('click', () => {
        const opened = document.body.classList.toggle('nav-open');
        menuBtn.setAttribute('aria-expanded', opened ? 'true' : 'false');
      });
    }

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>

